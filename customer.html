<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width-device-width, initial-scale=1.0">
    <title>Manage Customer</title>
    <link rel="stylesheet" href="./assests/bootstrap/bootstrap-5.3.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assests/css/normalize.css">
    <link rel="stylesheet" href="assests/css/style_customer.css">
    <link rel="icon" type="image/x-icon" href="/assests/images/favicon.ico">
    <meta name="viewport" content="width-device-width, initial-scale=1.0">
</head>
<body>
<header id="header1">
    <nav class="navbar bg-body-tertiary fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="/assests/images/lavazza.png" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
                LAVAZZA
            </a>

            <ul class="nav nav-underline">
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="customer.html">Customer</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="item.html">Item</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="order.html">Order</a>
                </li>
            </ul>
        </div>

    </nav>
</header>

<img src="assests/images/cup.png" alt="" style="position: absolute; z-index: -10; top: 45vh; left: 50vw; opacity: 100%">

<div class="container">
    <div class="row">
        <!--        <div id="frame">-->
        <div class="col col-xxl-4 col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">

            <form action="" method="post" target="_blank">
                <br><br>
                <div class="form-floating mb-5">
                    <input type="text" class="form-control" id="id1" placeholder="ID" style="color: white">
                    <label for="id1">Customer ID</label>
                </div>
                <div class="form-floating mb-5">
                    <input type="text" class="form-control" id="name" placeholder="Name">
                    <label for="name">Name</label>
                </div>
                <div class="form-floating mb-5">
                    <input type="tel" class="form-control" id="contact" placeholder="Contact">
                    <label for="contact">Contact</label>
                </div>
                <div class="form-floating mb-5">
                    <input type="text" class="form-control" id="address" placeholder="Address">
                    <label for="address">Address</label>
                </div>
                <div id="divBtn" class="mt-3 mb-4">
                    <button type="reset" class="btn btn-outline-light btn-sm">Reset</button>
                    <button type="button" class="btn btn-outline-light btn-sm">Delete</button>
                    <button type="button" class="btn btn-outline-light btn-sm">Update</button>
                    <button type="button" class="btn btn-outline-light btn-sm" id="btnSave">Save</button>
                </div>
            </form>
            <!--            </div>-->
        </div>
        <div id="divTb" class="col col-xxl-8 col-xl-8 col-lg-8 col-md-12 col-sm-12 col-12">
            <table class="table table-bordered table-hover table-striped table-primary" id="tb1">
                <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Contact</th>
                    <th scope="col">Address</th>
                </tr>
                </thead>
                <tbody id="stu_tBody">
                <tr>
                    <td scope="row">C001</td>
                    <td>Mark</td>
                    <td>@mdo</td>
                    <td>Otto</td>
                </tr>
                <tr>
                    <td scope="row">C002</td>
                    <td>Jacob</td>
                    <td>@fat</td>
                    <td>Thornton</td>
                </tr>
                <tr>
                    <td scope="row">C003</td>
                    <td>Larry</td>
                    <td>@twitter</td>
                    <td>USA</td>
                </tr>
                <tr>
                    <td scope="row">C004</td>
                    <td>Tom</td>
                    <td>@twitter</td>
                    <td>USA</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="./assests/js/lib/jquery.min.js"></script>

<script>

    ////////////////////////save//////////////////////////

    $("button[type='button']").eq(2).on('click', ()=>{
        console.log("Save clicked");

        let cus_id = $("#id1").val();
        let name = $("#name").val();
        let contact = $("#contact").val();
        let address = $("#address").val();

        console.log(`CusID : ${cus_id}\n Name: ${name}\n Contact: ${contact} Address: ${address}\n`);

        $("#stu_tBody").append("<tr>\n" +
            "<td class='cus_id1' scope=\"row\">" + cus_id + "</td>" +
            "<td class='name1'>" + name + "</td>" +
            "<td class='contact1'>" + contact + "</td>" +
            "<td class='address1'>" + address + "</td>" +
            "</tr>"
        );

        //clear
        $("button[type='reset']").click();

    });

    /////////////////////////////select row//////////////////////////////////

    var row_index;

    const clear = () =>{
        $("#id1").val("");
        $("#name").val("");
        $("#contact").val("");
        $("#address").val("");
    }

    $("tbody").on("click" , "tr", function () {        //event dedication --> catches the runtime tr
        // console.log("row selected");
        // let data_col = $(this).find("td");                                //"tr" is mentioned by 'this' keyword
        // console.log(data_col);
        // data_col.each(function (){
        //     console.log($(this).text());
        //     // $('#student_id').value("hello");
        // });

        row_index = $(this).index();

        let cus_id = $(this).find(".cus_id1").text();
        let name = $(this).find(".name1").text();
        let contact = $(this).find(".contact1").text();
        let address = $(this).find(".address1").text();

        $("#id1").val(cus_id);
        $("#name").val(name);
        $("#contact").val(contact);
        $("#address").val(address);
    });


    ////////////////////////update/////////////////////////

    $("button[type='button']").eq(1).on("click", ()=> {
        console.log("Update clicked");

        let cus_id = $("#id1").val();
        let name = $("#name").val();
        let contact = $("#contact").val();
        let address = $("#address").val();

        let record = `<td class= "cus_id1">${cus_id}</td><td class="name1">${name}</td><td class="contact1">${contact}</td><td className="address1">${address}</td>`;

        $("tBody>tr").eq(row_index).html(record);


        //clear
        $("button[type='reset']").click();

    });

    //delete
    $("button[type='button']").eq(0).on("click", ()=> {
        console.log("Delete clicked");
        $("tBody>tr").eq(row_index).remove();
    });


</script>

</body>
</html>